## 1. 문제 설명

[문제 링크](https://programmers.co.kr/learn/courses/30/lessons/17682)

- 입력 : 5, [2, 1, 2, 6, 2, 4, 3, 3]
- 출력 : [3,4,2,1,5] 실패율이 높은 스테이지순으로 출력

## 2. 코드

solution1.py

```python
import re

db = {'S':'**1', 'D':'**2','T':'**3','#':'*-1'}
def solution(dartResult):
    answer =''
    #dartResult에서 '[SDT][*#]?'이런 패턴을 찾으면 '\g<1> ' 바꿔주겠다.
    # -> 한 점수마다 그룹화해서 공백을 붙여줌
    for i in re.sub('([SDT][*#]?)', '\g<1> ',dartResult).split():
        #'*'처리
        if i[-1] == '*': #현재 점수의 마지막에 *이 있다면
            if answer: #이전 점수가 있는지 확인
                answer = answer[:-1] + '*2+' #이전 점수의 마지막 부호인 +를 빼고 *2+로 대체
            i+='2'#현재 점수 뒤에는 항상 2를 붙이기 -> *2가됨
        #*를 제외한 다른 문자 replace
        for j in db.keys():
            i = i.replace(j,db[j])
        answer+= i + '+'
    return eval(answer[:-1]) #마지막에 있는 + 기호는 지운채로 eval적용해야함

```

## 3. 회고

- 정규표현식을 써야한다.
- S, D, T, #은 규칙이 간단하니, 딕셔너리에 넣어서 규칙을 적용할 수 있도록 하고
- \* 같은 경우는 직접 구현해준다.
- sub는 세번째요소의 문자열에서 첫번째 요소와 같은 패턴을 발견하면 두번째 요소의 모양으로 바꿔주는 것이다.
- 여기서는 ([SDT][*#]?) 와 같은 형태의 문자열에서 \g<1> 첫번째 그룹(괄호안에 싸여있는 전체, 현재 그룹1만 있음) 이 존재하면 공백을 붙여준다.
- split()을 통해 공백 기준으론 나눠서 한 점수씩 조회할 수 있도록 한다.
- 한 점수씩 \*을 만났을 때, 규칙을 적용하고, 나머지 기호들도 규칙적용을 한다.
- eval을 사용하면 문자로된 기호들을 계산해준다. ex) eval('2\*\*2') = 4

## 4. 참고

https://www.youtube.com/watch?v=6e0BwkjF75Y
